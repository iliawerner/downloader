# downloader

Веб-приложение и CLI-утилита для получения прямых ссылок на аудио- и видео-потоки с YouTube и других платформ, поддерживаемых [`yt-dlp`](https://github.com/yt-dlp/yt-dlp). Инструмент предназначен исключительно для исследовательских и учебных целей: приложение ничего не загружает самостоятельно, а лишь отображает CDN-ссылки, которые возвращает платформа.

## Возможности

- Список всех доступных видеопотоков с указанием разрешения, битрейта, FPS и примерного размера.
- Список чистых аудиопотоков (audio-only), который удобно использовать для последующей загрузки.
- Структурированное API и веб-интерфейс, готовые к деплою на Vercel.
- CLI для быстрого получения тех же данных из терминала.

## Установка

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Использование CLI

```bash
python -m downloader <youtube-url>
```

Вывод по умолчанию — человеко-читаемый список. Чтобы получить JSON, добавьте флаг `--json`.

```bash
python -m downloader <youtube-url> --json
```

## Веб-интерфейс

Приложение построено на FastAPI. Для локального запуска выполните:

```bash
uvicorn downloader.web:app --reload
```

После запуска интерфейс будет доступен по адресу [http://127.0.0.1:8000](http://127.0.0.1:8000). На главной странице можно вставить ссылку на видео и получить готовые ссылки для скачивания. Тот же функционал доступен по API: `GET /api/streams?url=<media-url>` возвращает JSON со всеми потоками.

### Деплой на Vercel

В каталоге `api/` находится точка входа `index.py`, которую Vercel использует для запуска FastAPI-приложения. Достаточно выполнить стандартный деплой:

```bash
vercel deploy --prod
```

Vercel установит зависимости из `requirements.txt` и будет проксировать все запросы на FastAPI.

> ⚠️ Соблюдайте условия использования источника и действующее законодательство. Полученные ссылки предназначены исключительно для научных целей.
